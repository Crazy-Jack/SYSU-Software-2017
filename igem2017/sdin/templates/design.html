<html>
  <head>
    <title>Design - S-Din</title>
    <link rel="stylesheet" href="/static/semantic/dist/semantic.min.css">
    <link rel="stylesheet" href="/static/css/design.css">
    <link rel="stylesheet" href="/static/css/canvas.css">
  </head>
  <body>
    <input id="fileupload" type="file" name="files[]" hidden>
    {% csrf_token %}
    <!-- Toolbar -->
    <div class="ui fixed menu">
      <div class="ui container">
        <span class="item">
          <i class="large undo link icon"></i>
          <i class="large repeat link icon"></i>
          <i id="open-fav-win" class="large star link icon"></i>
          <i id="upload-button" class="large folder open outline link icon"></i>
          <i id="save-button" class="large save link icon"></i>
          <i id="export-button" class="large external share link icon"></i>
          <i class="large share alternate link icon"></i>
        </span>
        <span class="item">
          <i id="drag-item" class="large mouse pointer link icon"></i>
          <i id="drag-canvas" class="large hand paper link icon"></i>
          <i id="zoom-in" class="large zoom link icon"></i>
          <i id="zoom-out" class="large zoom out link icon"></i>
          <div class="ui compact floating selection dropdown" id="ratio-dropdown">
            <i class="dropdown icon"></i>
            <div class="default text">Ratio</div>
          </div>
        </span>
        <span class="item">
          <i class="large bullseye link icon"></i>
          <div id="connection-dropdown" class="ui dropdown">
            <i id="connection-dropdown-button" class="large long right arrow link icon"></i>
            <div class="menu">
              <div class="item" data-value="promotion">
                <i class="blue right arrow icon"></i>
                Add a promotion
              </div>
              <div class="item" data-value="inhibition">
                <i class="red rotated minus icon"></i>
                Add a inhibition
              </div>
              <div class="ui divider"></div>
              <div class="item" data-value="delete">
                <i class="red remove icon"></i>
                Delete a connection
              </div>
            </div>
          </div>
        </span>
        <div class="right menu">
          <span class="item">
            <h4 id="safety" class="ui red header">High risk</h4>
          </span>
          <span class="item">
            <i class="large user outline link icon" id="signin-button"></i>
          </span>
          <span class="item">
            <i class="large help circle outline link icon"></i>
          </span>
        </div>
      </div>
    </div>

    <!-- Main canvas -->
    <div id="canvas-box" design-id="{{ request.GET.id }}">
      <div id="canvas"></div>
    </div>

    <!-- Part panel (right) -->
    <div id="part-panel-dropper"></div>
    <div id="part-panel" class="window">
      <div class="nav">
        <h5 class="ui header">Parts</h5>
        <i id="part-panel-button" class="link icon angle double right"></i>
      </div>
      <div class="content">
        <div id="search-parts-dropdown" class="ui fluid search selection dropdown">
          <i class="dropdown icon"></i>
          <div class="default text">Search BBa...</div>
        </div>
        <div class="tab-context">
          <div class="ui top attached tabular menu">
            <div class="active item" data-tab="src-tab">Source circuit</div>
          </div>
          <div id="part-src-seg" class="ui bottom attached active tab segment" data-tab="src-tab">
            <div class="ui centered fluid image">
              <img src="/static/img/design/circuit.png" alt="">
            </div>
            <div id="part-src-divider" class="ui divider"></div>
            <a id="part-src-more" href="/detail">Check details</a>
          </div>
        </div>
        <div class="tab-context">
          <div class="ui top attached tabular menu">
            <div class="active item" data-tab="info-tab">Part information</div>
          </div>
          <div class="ui bottom attached active tab segment" data-tab="info-tab">
            <img id="part-info-img" class="ui centered tiny image" src="/static/img/design/unknown.png" alt="">
            <h5 id="part-info-name" class="ui center aligned header"></h5>
            <div class="ui divider"></div>
            <div id="part-info-des">
              <h5 class="ui header">Description:</h5>
              <p>Adipisicing soluta laboriosam consequatur lorem exercitationem Sequi labore explicabo eius nisi possimus Aperiam quisquam tenetur quos sit ex? Eum quibusdam magnam quam iure ipsa unde sit? Earum error tempora amet assumenda eum perspiciatis. Earum porro maxime ad nostrum doloribus Eius.</p>
            </div>
          </div>
          <div class="ui bottom attached tab segment" data-tab="func-tab"></div>
        </div>
      </div>
    </div>

    <!-- Favourite window (floating) -->
    <div id="fav-win" class="window">
      <div class="nav">
        <h5 class="ui header">收藏夹</h5>
        <i id="fav-win-button" class="link icon remove"></i>
      </div>
      <div class="content">
        <div class="ui segment">
          <div class="ui grid">
            <div class="ten wide column">
              <h5 class="ui header">Name: Dolor, Time: Ipsum</h5>
              <div class="ui fluid image">
                <img src="/static/img/design/circuit.png" alt="">
              </div>
            </div>
            <div class="six wide column">
              <p>Consectetur ipsa incidunt consequuntur.</p>
            </div>
          </div>
        </div>
        <div class="ui segment">
          <div class="ui grid">
            <div class="ten wide column">
              <h5 class="ui header">Name: Dolor, Time: Ipsum</h5>
              <div class="ui fluid image">
                <img src="/static/img/design/circuit.png" alt="">
              </div>
            </div>
            <div class="six wide column">
              <p>Consectetur ipsa incidunt consequuntur.</p>
            </div>
          </div>
        </div>
        <div class="ui segment">
          <div class="ui grid">
            <div class="ten wide column">
              <h5 class="ui header">Name: Dolor, Time: Ipsum</h5>
              <div class="ui fluid image">
                <img src="/static/img/design/circuit.png" alt="">
              </div>
            </div>
            <div class="six wide column">
              <p>Consectetur ipsa incidunt consequuntur.</p>
            </div>
          </div>
        </div>
        <div class="ui segment">
          <div class="ui grid">
            <div class="ten wide column">
              <h5 class="ui header">Name: Dolor, Time: Ipsum</h5>
              <div class="ui fluid image">
                <img src="/static/img/design/circuit.png" alt="">
              </div>
            </div>
            <div class="six wide column">
              <p>Consectetur ipsa incidunt consequuntur.</p>
            </div>
          </div>
        </div>
        <div class="ui segment">
          <div class="ui grid">
            <div class="ten wide column">
              <h5 class="ui header">Name: Dolor, Time: Ipsum</h5>
              <div class="ui fluid image">
                <img src="/static/img/design/circuit.png" alt="">
              </div>
            </div>
            <div class="six wide column">
              <p>Consectetur ipsa incidunt consequuntur.</p>
            </div>
          </div>
        </div>
        <div class="ui segment">
          <div class="ui grid">
            <div class="ten wide column">
              <h5 class="ui header">Name: Dolor, Time: Ipsum</h5>
              <div class="ui fluid image">
                <img src="/static/img/design/circuit.png" alt="">
              </div>
            </div>
            <div class="six wide column">
              <p>Consectetur ipsa incidunt consequuntur.</p>
            </div>
          </div>
        </div>

      </div>
    </div>

    <!-- Toolbox -->
    <div id="toolbox">
      <i id="add-part-button" class="inverted plus link icon"></i>
      <i id="clear-all-button" class="inverted trash link icon"></i>
      <i id="interactive-button" class="inverted external link icon"></i>
      <i id="simulation-button" class="inverted superpowers link icon"></i>
    </div>

    <!-- Add part modal -->
    <div id="add-part-modal" class="ui tiny modal">
      <div class="header"><i class="setting icon"></i>添加元件</div>
      <div class="content">
        假装这里有张图
      </div>
      <div class="actions">
        <div id="add-part-from-fav" class="ui button">从收藏夹选择</div>
        <div id="add-part-from-new" class="ui button">新建元件</div>
      </div>
    </div>

    <!-- Creating new part modal -->
    <div id="new-part-modal" class="ui tiny modal">
      <div class="header">新建元件</div>
      <div class="content">
        <form class="ui form">
          <div class="field">
            <label for="name">Name</label>
            <input type="text" name="name" id="part-name" placeholder="Part name">
          </div>
          <div class="field">
            <label for="description">Description</label>
            <textarea id="part-description" rows=2 placeholder="Part description"></textarea>
          </div>
          <div class="field">
            <label for="type">Type</label>
            <div class="ui floating selection dropdown" id="part-type-dropdown">
              <i class="dropdown icon"></i>
              <div class="default text">Part type</div>
            </div>
          </div>
          <div class="field">
            <label for="safety">Safety</label>
            <div class="ui floating selection dropdown" id="part-safety-dropdown">
              <i class="dropdown icon"></i>
              <div class="default text">Part safety level</div>
            </div>
          </div>
          <div class="field">
            <label for="sequence">Sequence</label>
            <textarea name="part-sequence" id="part-sequence" placeholder="Part sequence"></textarea>
          </div>
        </form>
      </div>
      <div class="actions">
        <div id="add-new-part" class="ui button">添加该元件</div>
      </div>
    </div>
      
    <div class="ui page dimmer">
      <div class="content">
        <div class="ui text loader"></div>
      </div>
    </div>

    <!-- Clear all modal -->
    <div id="clear-all-modal" class="ui basic modal">
      <div class="ui icon header">
        <i class="trash icon"></i>
        Clear canvas
      </div>
      <div class="content">
        <p>This will <b>REMOVE ALL ITEMS</b> in the canvas, click Yes below to confirm.</p>
      </div>
      <div class="actions">
        <div class="ui red basic cancel inverted button">
          <i class="remove icon"></i>
          No
        </div>
        <div class="ui green ok inverted button" id="real-clear-all-button">
          <i class="checkmark icon"></i>
          Yes
        </div>
      </div>
    </div>

    <!-- Simulation result modal -->
    <div id="simulation-modal" class="ui modal">
      <div class="header">Simulation results</div>
      <div class="content">
        <canvas id="simulation-result" width="800px" height="400px"></canvas>
      </div>
    </div>

    <!-- High risk modal -->
    <div id="safety-modal" class="ui basic modal">
      <div class="ui icon header">
        <i class="warning icon"></i>
        Warning!
      </div>
      <div class="content">
        <p>Please check your design again in case of using any potential risky part! We don't recommend you to use parts with <b>high risk</b> ground. Change them into safe parts?</p>
      </div>
      <div class="actions">
        <div class="ui red basic cancel inverted button">
          <i class="left chevron icon"></i>
          Back to edit
        </div>
        <div class="ui green ok inverted button" id="continue-save">
          No, continue to save
          <i class="right chevron icon"></i>
        </div>
      </div>
    </div>

    {% include "login-modal.html" %}
  </body>
  <script src="/static/js/jquery.min.js"></script>
  <script src="/static/js/jquery-ui/jquery-ui.min.js"></script>
  <script src="/static/js/jquery.mousewheel.min.js"></script>
  <script src="/static/semantic/dist/semantic.js"></script>
  <script src="/static/semantic/dist/components/popup.min.js"></script>
  <script src="/static/semantic/dist/components/tab.min.js"></script>
  <script src="/static/js/jsplumb.js"></script>
  <script src="/static/js/html2canvas.js"></script>
  <script src="/static/js/Chart.min.js"></script>
  <script src="/static/js/canvas.js"></script>
  <script src="/static/js/design.js"></script>
  <script src="/static/js/login.js"></script>
</html>
